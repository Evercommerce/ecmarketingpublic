var EcBrowser;(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};(()=>{function n(){const t=window.location.href;let e;if(e="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?window.location.hostname:t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0],"localhost"!==e&&"127.0.0.1"!==e){e=e.split(":")[0],e=e.split("?")[0];const t=e.split(".");e=t[t.length-2]+"."+t[t.length-1]}return e}function o(t,e){if(!t)return void console.error("$EC Error: Must provide a name.");if(!e)return void console.error("$EC Error: Must provide a value.");const o=e?JSON.stringify(e):"";let r="";if("__ecatft"==t){const t=new Date;t.setFullYear(t.getFullYear()+10),r=" expires="+t.toUTCString()+";"}document.cookie=t+"="+o+"; path=/; domain="+n()+";"+r}function r(t){const e=t+"=",n=document.cookie.split(";");for(let t=0;t<n.length;t++){let o=n[t];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(e))return JSON.parse(o.substring(e.length,o.length))}return{}}function i(t){const e=(t=>{function e(t,e){return(e>>>t|e<<32-t)>>>0}return function(){const n=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array(64);let r=1779033703,i=3144134277,a=1013904242,s=2773480762,c=1359893119,d=2600822924,m=528734635,l=1541459225;const u=(t=>{if("string"!=typeof t&&(t=t.toString()),!t.length)return new Uint32Array(0);const e=new Uint32Array(t.length/4);for(let n=0;n<t.length;n+=4)e[n/4]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3);return e})((t=>{const e=(448-t.length-1)%512,n=new Uint8Array(e/8+1).fill(0),o=8*t.length,r=new Uint8Array(8);for(let t=0;t<8;t++)r[t]=o>>>56-8*t&255;const i=new Uint8Array(t.length+1+n.length+r.length);for(let e=0;e<t.length;e++)i[e]=t[e];i[t.length]=128;for(let e=0;e<n.length;e++)i[t.length+1+e]=n[e];for(let e=0;e<r.length;e++)i[t.length+1+n.length+e]=r[e];return i})(t.split("").map((function(t){return t.charCodeAt(0)}))));for(let t=0;t<u.length;t+=16){const _=o;for(let e=0;e<16;e++)_[e]=u[t+e];for(let t=16;t<64;t++){const n=e(7,_[t-15])^e(18,_[t-15])^_[t-15]>>>3,o=e(17,_[t-2])^e(19,_[t-2])^_[t-2]>>>10;_[t]=_[t-16]+n+_[t-7]+o>>>0}let g=r,f=i,p=a,h=s,w=c,b=d,y=m,v=l;for(let t=0;t<64;t++){const o=l+(e(6,c)^e(11,c)^e(25,c))+(c&d^~c&m)+n[t]+_[t]>>>0;v=y,y=b,b=w,w=h+o>>>0,h=p,p=f,f=g,g=o+((e(2,r)^e(13,r)^e(22,r))+(r&i^r&a^i&a)>>>0)>>>0}r=r+g>>>0,i=i+f>>>0,a=a+p>>>0,s=s+h>>>0,c=c+w>>>0,d=d+b>>>0,m=m+y>>>0,l=l+v>>>0}return[r,i,a,s,c,d,m,l].map((t=>t.toString(16).padStart(8,"0"))).join("")}()})(t=t.toLowerCase().trim());return e.slice(0,8)+"-"+e.slice(8,12)+"-4"+e.slice(13,16)+"-a"+e.slice(17,20)+"-"+e.slice(20)}function a({prefix:t,message:e,type:n}){let o="color:inherit";switch(n){case"success":o="color:#16CA94";break;case"warn":o="color:#FFAC2C";break;case"error":o="color:#FF5E5E";break;default:o="color:inherit"}const r=t?t+" %c"+e:"%c"+e;console.log("%c$EC %c"+r,"color: #16CA94","color:#2BB4FF",o)}t.d(e,{EcBrowser:()=>EcBrowser});var s=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))};const c=JSON.parse('{"rE":"5.0.0-alpha.5"}');class EcBrowser{constructor(t){if(this.version=c.rE,this.settings={},this.initialized=!1,this.load=(t={})=>{t.debug&&a({message:"Debugger Enabled, disable debug in production.",type:"warn"}),this.settings=t;let e={};if("segment"===t.trackingProvider){if("object"!=typeof this.analyticsInstance||!("track"in this.analyticsInstance)||!("identify"in this.analyticsInstance))throw new Error("No or incorrect analytics instance provided.");e=((t,e)=>({identify:(n,...o)=>s(void 0,[n,...o],void 0,(function*(n,o={}){if(!n)return e.debug&&a({prefix:"identify()",message:"Cannot identify, missing email address.",type:"error"}),"";const r=yield t.user();if(r.id())return e.debug&&a({prefix:"identify()",message:"User was already identified"}),r.id();const s=i(n);return t.identify(s,o),e.debug&&a({prefix:"identify()",message:"User identified"}),s})),track:(e,n)=>{e?(e.startsWith("Marketing - ")||(e=`Marketing - ${e}`),t.track(e,n)):process.env.NEXT_PUBLIC_EC_DEBUG&&a({message:"Cannot track event, missing event name.",type:"error"})}}))(this.analyticsInstance,t)}else"heap"===t.trackingProvider&&(e=((t={})=>({identify:(e,n={})=>{if(!e)return t.debug&&a({prefix:"identify()",message:"Cannot identify, missing email address.",type:"error"}),"";if(!window.heap)return t.debug&&a({prefix:"identify()",message:"Cannot identify, window.heap not defined.",type:"error"}),"";const o=window.heap.identity;if(o)return t.debug&&a({prefix:"identify()",message:"User was already identified"}),o;const r=i(e);return Object.keys(n).length?window.heap.identify(r,n):window.heap.identify(r),t.debug&&a({prefix:"identify()",message:"User identified"}),r},track:(t,e)=>{t?window.heap&&void 0!==window.heap?(t.startsWith("Marketing - ")||(t=`Marketing - ${t}`),window.heap.track(t,e)):a({message:"Cannot track event, window.heap not defined.",type:"error"}):a({message:"Cannot track event, missing event name.",type:"error"})}}))(t));Object.keys(e).forEach((t=>{this[t]=e[t].bind(e)}));const c=(({settings:t,track:e,identify:i})=>{const s=t=>{const e=r("__ecatft"),n=r("__ecatlt");t&&t.first_touch&&t.last_touch?setTimeout((()=>{Object.keys(t.first_touch).forEach((n=>{document.querySelectorAll(t.first_touch[n]).forEach((t=>{t.value=e[n]||"[blank]"}))})),Object.keys(t.last_touch).forEach((e=>{document.querySelectorAll(t.last_touch[e]).forEach((t=>{t.value=n[e]||"[blank]"}))}))}),50):a({message:"Field map object is missing or incomplete.",type:"error"})},c=n=>{if(!n||"object"!=typeof n)return void a({message:'Missing MktoForms2 "form" object.',type:"error"});if(t.debug&&a({message:`Handling attribution fields for #mktoForm_${n.getId()}`}),"true"===n.getFormElem()[0].getAttribute("data-dirty"))return void(t.debug&&a({message:`autoForm skipping #mktoForm_${n.getId()}, it's already been handled`}));const o=n.getFormElem()[0],s=r("__ecatft"),c=r("__ecatlt"),d={ec_utm_campaign_first__c:s.utm_campaign||"NULL",ec_utm_source_first__c:s.utm_source||"NULL",ec_utm_medium_first__c:s.utm_medium||"NULL",ec_utm_content_first__c:s.utm_content||"NULL",ec_utm_term_first__c:s.utm_term||"NULL",ec_utm_device_first__c:s.utm_device||"NULL",gclid__c:s.gclid||"NULL",GCLID__c:s.gclid||"NULL",ec_landing_page_first__c:s.lp||"NULL",ec_referrer_first__c:s.referrer||"NULL",ec_utm_campaign_last__c:c.utm_campaign||"NULL",ec_utm_source_last__c:c.utm_source||"NULL",ec_utm_medium_last__c:c.utm_medium||"NULL",ec_utm_content_last__c:c.utm_content||"NULL",ec_utm_term_last__c:c.utm_term||"NULL",ec_utm_device_last__c:c.utm_device||"NULL",gclid_last__c:c.gclid||"NULL",GCLID_last__c:c.gclid||"NULL",ec_referrer_last__c:c.referrer||"NULL",ec_landing_page_last__c:c.lp||"NULL"},m={"Form ID":n.getId()};o.getAttribute("data-formType")&&(m["Form Type"]=o.getAttribute("data-formType")),o.getAttribute("data-boundForm")&&(m["Bound Form Selector"]=o.getAttribute("data-boundForm")),"kiosk"!==o.getAttribute("data-formType")&&n.addHiddenFields(d),n.onSubmit((()=>{"kiosk"===o.getAttribute("data-formType")&&n.vals({_mkt_trk:""});const t=Object.assign({Event:"Before Submit",Submittable:n.submittable()},m);e("Marketo Form Event",t)})),n.onValidate((t=>{const o=Object.assign({Event:"Validate",Valid:t},m);if(e("Marketo Form Event",o),t){const t=i(n.vals().Email);n.addHiddenFields({ec_heap_id__c:t})}})),n.onSuccess((()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"MarketoFormSubmit",formId:`mktoForm_${n.getId()}`,pageUrl:`${window.location.origin}${window.location.pathname}`});const t=Object.assign({Event:"Submitted"},m);e("Marketo Form Event",t)})),n.getFormElem()[0].setAttribute("data-dirty","true")},d=t=>{s({first_touch:{utm_campaign:`${t} input[name=ec_utm_campaign_first__c]`,utm_source:`${t} input[name=ec_utm_source_first__c]`,utm_medium:`${t} input[name=ec_utm_medium_first__c]`,utm_content:`${t} input[name=ec_utm_content_first__c]`,utm_term:`${t} input[name=ec_utm_term_first__c]`,utm_device:`${t} input[name=ec_utm_device_first__c]`,lp:`${t} input[name=ec_landing_page_first__c]`,referrer:`${t} input[name=ec_referrer_first__c]`,gclid:`${t} input[name=gclid__c]`},last_touch:{utm_campaign:`${t} input[name=ec_utm_campaign_last__c]`,utm_source:`${t} input[name=ec_utm_source_last__c]`,utm_medium:`${t} input[name=ec_utm_medium_last__c]`,utm_content:`${t} input[name=ec_utm_content_last__c]`,utm_term:`${t} input[name=ec_utm_term_last__c]`,utm_device:`${t} input[name=ec_utm_device_last__c]`,lp:`${t} input[name=ec_landing_page_last__c]`,referrer:`${t} input[name=ec_referrer_last__c]`,gclid:`${t} input[name=gclid_last__c]`}}),window.addEventListener("message",(t=>{"hsFormCallback"===t.data.type&&"onFormSubmitted"===t.data.eventName&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"HubSpotFormSubmit",formId:t.data.id,pageUrl:`${window.location.origin}${window.location.pathname}`}),e("HubSpot Form Event",{"Form ID":t.data.id,Event:"Submitted"}))}))};return{getFirst:()=>r("__ecatft"),getLast:()=>r("__ecatlt"),enableMarketoKioskMode:()=>{a({message:"Kiosk Mode Enabled",type:"warn"}),document.cookie=`_mkto_trk=;path=/;domain=${n()};expires=0`,window.MktoForms2.whenRendered((t=>{t.getFormElem()[0].setAttribute("data-formType","kiosk"),t.addHiddenFields({_mkt_trk:""})}))},autofill:s,handleMktoForm:c,autoHandleMktoForms:()=>{window.addEventListener("load",(()=>{window.MktoForms2&&window.MktoForms2.whenRendered((t=>{"true"!==t.getFormElem()[0].getAttribute("data-dirty")&&c(t)}))}))},loadMarketoBlindForm:e=>{if(!(e&&e.mktoDomain&&e.munchkinId&&e.mktoFormId&&e.formSelector&&e.dataMap))return void a({message:"Required config options are missing.",type:"error"});const n=document.createElement("form");n.id=`mktoForm_${e.mktoFormId}`,t.debug||(n.style.display="none"),document.body.appendChild(n);const o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=`//${e.mktoDomain}/js/forms2/js/forms2.min.js`,document.body.appendChild(o),o.addEventListener("load",(()=>{window.MktoForms2.loadForm(`//${e.mktoDomain}`,e.munchkinId,e.mktoFormId),window.MktoForms2.whenRendered((t=>{const n=document.querySelector(e.formSelector);t.getFormElem()[0].setAttribute("data-formType","blind"),n.setAttribute("data-formType","blind"),t.getFormElem()[0].setAttribute("data-boundForm",e.formSelector),"true"!==t.getFormElem()[0].getAttribute("data-dirty")&&c(t),e.bindSubmitEvent&&n.addEventListener("submit",(()=>{t.submit()}))})),e.submitOnLoad&&window.MktoForms2.whenReady((t=>{t.getId()===e.mktoFormId&&(t.vals(e.dataMap),t.submit())}))}))},submitMarketoBlindForm:t=>{if(!(t&&t.mktoFormId&&t.formSelector&&t.dataMap))return void a({message:"Required config options are missing.",type:"error"});const e=document.querySelector(t.formSelector),n={};Object.entries(t.dataMap).forEach((([t,o])=>{const r=e.querySelector(t);n[o]=r.value})),window.MktoForms2.getForm(t.mktoFormId).vals(n),window.MktoForms2.getForm(t.mktoFormId).onSuccess((()=>{t.followupUrl&&(window.location.href=t.followupUrl)})).submit()},handleHubspotForm:d,autoHandleHubspotForms:()=>{"complete"===document.readyState?window.HubSpotForms&&window.HubSpotForms.getForms().forEach((t=>{d(`#hsForm_${t.formId}`)})):window.addEventListener("message",(t=>{"hsFormCallback"===t.data.type&&"onFormReady"===t.data.eventName&&d(`#hsForm_${t.data.id}`)}))},handleCookies:()=>{var t,e,n,i,a,s,c,d,m,l,u,_,g,f,p,h;const w=r("__ecatft"),b=r("__ecatlt"),y=new URLSearchParams(document.location.search),v={utm_campaign:null!==(e=null===(t=null==y?void 0:y.get("utm_campaign"))||void 0===t?void 0:t.substring(0,254))&&void 0!==e?e:"",utm_source:null!==(i=null===(n=null==y?void 0:y.get("utm_source"))||void 0===n?void 0:n.substring(0,254))&&void 0!==i?i:"",utm_medium:null!==(s=null===(a=null==y?void 0:y.get("utm_medium"))||void 0===a?void 0:a.substring(0,254))&&void 0!==s?s:"",utm_content:null!==(d=null===(c=null==y?void 0:y.get("utm_content"))||void 0===c?void 0:c.substring(0,254))&&void 0!==d?d:"",utm_term:null!==(l=null===(m=null==y?void 0:y.get("utm_term"))||void 0===m?void 0:m.substring(0,254))&&void 0!==l?l:"",utm_device:null!==(_=null===(u=null==y?void 0:y.get("utm_device"))||void 0===u?void 0:u.substring(0,254))&&void 0!==_?_:"",referrer:document.referrer.split("?")[0].substring(0,254)||"",gclid:null!==(f=null===(g=null==y?void 0:y.get("gclid"))||void 0===g?void 0:g.substring(0,254))&&void 0!==f?f:"",lp:(null===(p=document.location.hostname+document.location.pathname)||void 0===p?void 0:p.substring(0,254))||"",raw_query:(null===(h=document.location.search)||void 0===h?void 0:h.substring(0,254))||""};0===Object.keys(w).length&&o("__ecatft",v),0===Object.keys(b).length&&o("__ecatlt",v)},test:()=>{const t=r("__ecatft"),e=r("__ecatlt");console.group("%cAttribution Cookie Data","color: #16CA94"),console.log("First Touch (__ecatft)",t),console.log("Last Touch  (__ecatlt)",e),console.groupEnd()}}})({settings:t,track:this.track,identify:this.identify});return Object.keys(c).forEach((t=>{this[t]=c[t]})),this},this.initialized)throw new Error("$EC has already been initialized.");this.analyticsInstance=t,this.initialized=!0}page(){if(!window)throw new Error("$EC Error: page() must be called in a browser environment.");window.$ECq&&window.$ECq.forEach((t=>{const e=t[0],n=t.slice(1);window.$EC.settings.debug&&a({message:`Queued event: ${e}`,type:"warn"}),window.$EC[e](...n)})),this.settings.autoCookies&&this.handleCookies(),this.settings.autoForms&&(this.autoHandleMktoForms(),this.autoHandleHubspotForms())}}})(),EcBrowser=e.EcBrowser})();