/**
 * Author: EverCommerce
 * Author URI: https://www.evercommerce.com/
 * Version: 5.0.7
 * Updated: 04/02/2024
 * 
 * Copyright EverCommerce
 * All Rights Reserved.
 * 
 * NOTICE: Unauthorized use or copying of this file
 *         via any medium is strictly prohibited.
 *         Proprietary and confidential
 */
var EcBrowser;(()=>{"use strict";var e={991:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="5.0.7"},588:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EcCore=void 0;const r=o(935);t.EcCore=({settings:e,track:t,identify:o,version:n})=>{const i=e=>{const t=(0,r.readCookie)("__ecatft"),o=(0,r.readCookie)("__ecatlt");e&&e.first_touch&&e.last_touch?setTimeout((()=>{Object.keys(e.first_touch).forEach((o=>{document.querySelectorAll(e.first_touch[o]).forEach((e=>{e.value=t[o]||"[blank]"}))})),Object.keys(e.last_touch).forEach((t=>{document.querySelectorAll(e.last_touch[t]).forEach((e=>{e.value=o[t]||"[blank]"}))}))}),50):(0,r.log)({message:"Field map object is missing or incomplete.",type:"error"})},a=n=>{if(!n||"object"!=typeof n)return void(0,r.log)({message:'Missing MktoForms2 "form" object.',type:"error"});if(e.debug&&(0,r.log)({message:`Handling attribution fields for #mktoForm_${n.getId()}`}),"true"===n.getFormElem()[0].getAttribute("data-dirty"))return void(e.debug&&(0,r.log)({message:`autoForm skipping #mktoForm_${n.getId()}, it's already been handled`}));const i=n.getFormElem()[0],a=(0,r.readCookie)("__ecatft"),s=(0,r.readCookie)("__ecatlt"),d={ec_utm_campaign_first__c:a.utm_campaign||"NULL",ec_utm_source_first__c:a.utm_source||"NULL",ec_utm_medium_first__c:a.utm_medium||"NULL",ec_utm_content_first__c:a.utm_content||"NULL",ec_utm_term_first__c:a.utm_term||"NULL",ec_utm_device_first__c:a.utm_device||"NULL",gclid__c:a.gclid||"NULL",GCLID__c:a.gclid||"NULL",ec_landing_page_first__c:a.lp||"NULL",ec_referrer_first__c:a.referrer||"NULL",ec_utm_campaign_last__c:s.utm_campaign||"NULL",ec_utm_source_last__c:s.utm_source||"NULL",ec_utm_medium_last__c:s.utm_medium||"NULL",ec_utm_content_last__c:s.utm_content||"NULL",ec_utm_term_last__c:s.utm_term||"NULL",ec_utm_device_last__c:s.utm_device||"NULL",gclid_last__c:s.gclid||"NULL",GCLID_last__c:s.gclid||"NULL",ec_referrer_last__c:s.referrer||"NULL",ec_landing_page_last__c:s.lp||"NULL"},c={"Form ID":n.getId()};i.getAttribute("data-formType")&&(c["Form Type"]=i.getAttribute("data-formType")),i.getAttribute("data-boundForm")&&(c["Bound Form Selector"]=i.getAttribute("data-boundForm")),"kiosk"!==i.getAttribute("data-formType")&&n.addHiddenFields(d),n.onSubmit((()=>{"kiosk"===i.getAttribute("data-formType")&&n.vals({_mkt_trk:""});const e=Object.assign({Event:"Before Submit",Submittable:n.submittable()},c);t("Marketo Form Event",e)})),n.onValidate((e=>{const r=Object.assign({Event:"Validate",Valid:e},c);if(t("Marketo Form Event",r),e){const e=o(n.vals().Email);n.addHiddenFields({ec_heap_id__c:e})}})),n.onSuccess((()=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"MarketoFormSubmit",formId:`mktoForm_${n.getId()}`,pageUrl:`${window.location.origin}${window.location.pathname}`});const e=Object.assign({Event:"Submitted"},c);t("Marketo Form Event",e)})),n.getFormElem()[0].setAttribute("data-dirty","true")},s=()=>{window.addEventListener("load",(()=>{window.MktoForms2&&window.MktoForms2.whenRendered((e=>{"true"!==e.getFormElem()[0].getAttribute("data-dirty")&&a(e)}))}))},d=o=>{e.debug&&(0,r.log)({message:`Handling attribution fields for ${o}`}),i({first_touch:{utm_campaign:`${o} input[name=ec_utm_campaign_first__c]`,utm_source:`${o} input[name=ec_utm_source_first__c]`,utm_medium:`${o} input[name=ec_utm_medium_first__c]`,utm_content:`${o} input[name=ec_utm_content_first__c]`,utm_term:`${o} input[name=ec_utm_term_first__c]`,utm_device:`${o} input[name=ec_utm_device_first__c]`,lp:`${o} input[name=ec_landing_page_first__c]`,referrer:`${o} input[name=ec_referrer_first__c]`,gclid:`${o} input[name=gclid__c]`},last_touch:{utm_campaign:`${o} input[name=ec_utm_campaign_last__c]`,utm_source:`${o} input[name=ec_utm_source_last__c]`,utm_medium:`${o} input[name=ec_utm_medium_last__c]`,utm_content:`${o} input[name=ec_utm_content_last__c]`,utm_term:`${o} input[name=ec_utm_term_last__c]`,utm_device:`${o} input[name=ec_utm_device_last__c]`,lp:`${o} input[name=ec_landing_page_last__c]`,referrer:`${o} input[name=ec_referrer_last__c]`,gclid:`${o} input[name=gclid_last__c]`}}),window.addEventListener("message",(e=>{"hsFormCallback"===e.data.type&&"onFormSubmitted"===e.data.eventName&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"HubSpotFormSubmit",formId:e.data.id,pageUrl:`${window.location.origin}${window.location.pathname}`}),t("HubSpot Form Event",{"Form ID":e.data.id,Event:"Submitted"}))}))},c=()=>{if("complete"===document.readyState){if(window.HubSpotForms){window.HubSpotForms.getForms().forEach((e=>{d(`#hsForm_${e.formId}`)}))}}else window.addEventListener("message",(e=>{"hsFormCallback"===e.data.type&&"onFormReady"===e.data.eventName&&d(`#hsForm_${e.data.id}`)}))},l=()=>{var e,t,o,n,i,a,s,d,c,l,u,m,_,g,f,p;const h=(0,r.readCookie)("__ecatft"),w=(0,r.readCookie)("__ecatlt"),v=new URLSearchParams(document.location.search),b={utm_campaign:null!==(t=null===(e=null==v?void 0:v.get("utm_campaign"))||void 0===e?void 0:e.substring(0,254))&&void 0!==t?t:"",utm_source:null!==(n=null===(o=null==v?void 0:v.get("utm_source"))||void 0===o?void 0:o.substring(0,254))&&void 0!==n?n:"",utm_medium:null!==(a=null===(i=null==v?void 0:v.get("utm_medium"))||void 0===i?void 0:i.substring(0,254))&&void 0!==a?a:"",utm_content:null!==(d=null===(s=null==v?void 0:v.get("utm_content"))||void 0===s?void 0:s.substring(0,254))&&void 0!==d?d:"",utm_term:null!==(l=null===(c=null==v?void 0:v.get("utm_term"))||void 0===c?void 0:c.substring(0,254))&&void 0!==l?l:"",utm_device:null!==(m=null===(u=null==v?void 0:v.get("utm_device"))||void 0===u?void 0:u.substring(0,254))&&void 0!==m?m:"",referrer:document.referrer.split("?")[0].substring(0,254)||"",gclid:null!==(g=null===(_=null==v?void 0:v.get("gclid"))||void 0===_?void 0:_.substring(0,254))&&void 0!==g?g:"",lp:(null===(f=document.location.hostname+document.location.pathname)||void 0===f?void 0:f.substring(0,254))||"",raw_query:(null===(p=document.location.search)||void 0===p?void 0:p.substring(0,254))||""};0===Object.keys(h).length&&(0,r.createCookie)("__ecatft",b),0===Object.keys(w).length&&(0,r.createCookie)("__ecatlt",b)};return{getFirst:()=>(0,r.readCookie)("__ecatft"),getLast:()=>(0,r.readCookie)("__ecatlt"),enableMarketoKioskMode:()=>{(0,r.log)({message:"Kiosk Mode is enabled for all Marketo forms on this page.",type:"warn"}),document.cookie=`_mkto_trk=;path=/;domain=${(0,r.extractHostname)()};expires=0`,window.MktoForms2.whenRendered((e=>{e.getFormElem()[0].setAttribute("data-formType","kiosk"),e.addHiddenFields({_mkt_trk:""})}))},autofill:i,handleMktoForm:a,autoHandleMktoForms:s,loadMarketoBlindForm:t=>{if(!(t&&t.mktoDomain&&t.munchkinId&&t.mktoFormId&&t.formSelector&&t.dataMap))return void(0,r.log)({message:"Required config options are missing.",type:"error"});const o=document.createElement("form");o.id=`mktoForm_${t.mktoFormId}`,e.debug?(0,r.log)({message:"Marketo Form is displayed in debug mode.",type:"warn"}):o.style.display="none",document.body.appendChild(o);const n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=`//${t.mktoDomain}/js/forms2/js/forms2.min.js`,document.body.appendChild(n),n.addEventListener("load",(()=>{window.MktoForms2.loadForm(`//${t.mktoDomain}`,t.munchkinId,t.mktoFormId),window.MktoForms2.whenRendered((e=>{const o=document.querySelector(t.formSelector);e.getFormElem()[0].setAttribute("data-formType","blind"),o.setAttribute("data-formType","blind"),e.getFormElem()[0].setAttribute("data-boundForm",t.formSelector),"true"!==e.getFormElem()[0].getAttribute("data-dirty")&&a(e),t.bindSubmitEvent&&o.addEventListener("submit",(()=>{e.submit()}))})),t.submitOnLoad&&window.MktoForms2.whenReady((e=>{e.getId()===t.mktoFormId&&(e.vals(t.dataMap),e.submit())}))}))},submitMarketoBlindForm:e=>{if(!(e&&e.mktoFormId&&e.formSelector&&e.dataMap))return void(0,r.log)({message:"Required config options are missing.",type:"error"});const t=document.querySelector(e.formSelector),o={};Object.entries(e.dataMap).forEach((([e,r])=>{const n=t.querySelector(e);o[r]=n.value})),window.MktoForms2.getForm(e.mktoFormId).vals(o),window.MktoForms2.getForm(e.mktoFormId).onSuccess((()=>{e.followupUrl&&(window.location.href=e.followupUrl)})).submit()},handleHubspotForm:d,autoHandleHubspotForms:c,handleCookies:l,generateGUID:r.generateGUID,diagnose:()=>{console.groupCollapsed("%cSettings","color: #16CA94"),console.log("Version:",n),console.log("Debug:",e.debug),console.log("Tracking Provider:",e.trackingProvider),console.log("Auto Cookies:",e.autoCookies),console.log("Auto Forms:",e.autoForms),console.groupEnd();const t=(0,r.readCookie)("__ecatft"),o=(0,r.readCookie)("__ecatlt"),i={};Object.keys(t).forEach((e=>{i[e]={"First Touch":t[e],"Last Touch":o[e]}})),console.group("%cAttribution","color: #16CA94"),console.table(i,["First Touch","Last Touch"]),console.groupEnd()},page:()=>{if(!window)throw new Error("$EC Error: page() must be called in a browser environment.");(0,r.handleQueuedEvents)(),e.autoCookies&&l(),e.autoForms&&(s(),c())}}}},433:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EcHeap=void 0;const r=o(935);t.EcHeap=(e={})=>({identify:(t,o={})=>{if(!t)return e.debug&&(0,r.log)({prefix:"identify()",message:"Cannot identify, missing email address.",type:"error"}),"";if(!window.heap)return e.debug&&(0,r.log)({prefix:"identify()",message:"Cannot identify, window.heap not defined.",type:"error"}),"";const n=window.heap.identity;if(n)return e.debug&&(0,r.log)({prefix:"identify()",message:"User was already identified"}),n;const i=(0,r.generateGUID)(t);return Object.keys(o).length?window.heap.identify(i,o):window.heap.identify(i),e.debug&&(0,r.log)({prefix:"identify()",message:"User identified"}),i},track:(e,t)=>{e?window.heap&&void 0!==window.heap?(e.startsWith("Marketing - ")||(e=`Marketing - ${e}`),window.heap.track(e,t)):(0,r.log)({message:"Cannot track event, window.heap not defined.",type:"error"}):(0,r.log)({message:"Cannot track event, missing event name.",type:"error"})}})},514:function(e,t,o){var r=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function a(e){try{d(r.next(e))}catch(e){i(e)}}function s(e){try{d(r.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EcSegment=void 0;const n=o(935);t.EcSegment=(e,t)=>{const o=()=>{if(void 0===e&&void 0===window.analytics)throw new Error("Missing analytics.js");return e||window.analytics};return{identify:(e,...i)=>r(void 0,[e,...i],void 0,(function*(e,r={}){if(!e)return t.debug&&(0,n.log)({prefix:"identify()",message:"Cannot identify, missing email address.",type:"error"}),"";const i=yield o().user();if(i.id())return t.debug&&(0,n.log)({prefix:"identify()",message:"User was already identified"}),i.id();const a=(0,n.generateGUID)(e);return o().identify(a,r),t.debug&&(0,n.log)({prefix:"identify()",message:"User identified"}),a})),track:(e,r)=>{e?(e.startsWith("Marketing - ")||(e=`Marketing - ${e}`),o().track(e,r)):t.debug&&(0,n.log)({message:"Cannot track event, missing event name.",type:"error"})}}}},935:(e,t)=>{function o(){const e=window.location.href;let t;if(t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?window.location.hostname:e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],"localhost"!==t&&"127.0.0.1"!==t){t=t.split(":")[0],t=t.split("?")[0];const e=t.split(".");t=e[e.length-2]+"."+e[e.length-1]}return t}function r({prefix:e,message:t,type:o}){let r="color:inherit";switch(o){case"success":r="color:#16CA94";break;case"warn":r="color:#FFAC2C";break;case"error":r="color:#FF5E5E";break;default:r="color:inherit"}const n=e?e+" %c"+t:"%c"+t;console.log("%c$EC %c"+n,"color: #16CA94","color:#2BB4FF",r)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleQueuedEvents=t.log=t.generateGUID=t.readCookie=t.createCookie=t.extractHostname=void 0,t.extractHostname=o,t.createCookie=function(e,t){if(!e)return void console.error("$EC Error: Must provide a name.");if(!t)return void console.error("$EC Error: Must provide a value.");const r=t?JSON.stringify(t):"";let n="";if("__ecatft"==e){const e=new Date;e.setFullYear(e.getFullYear()+10),n=" expires="+e.toUTCString()+";"}document.cookie=e+"="+r+"; path=/; domain="+o()+";"+n},t.readCookie=function(e){const t=e+"=",o=document.cookie.split(";");for(let e=0;e<o.length;e++){let r=o[e];for(;" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return JSON.parse(r.substring(t.length,r.length))}return{}},t.generateGUID=function(e){const t=(e=>{function t(e,t){return(t>>>e|t<<32-e)>>>0}return function(){const o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=new Uint32Array(64);let n=1779033703,i=3144134277,a=1013904242,s=2773480762,d=1359893119,c=2600822924,l=528734635,u=1541459225;const m=(e=>{if("string"!=typeof e&&(e=e.toString()),!e.length)return new Uint32Array(0);const t=new Uint32Array(e.length/4);for(let o=0;o<e.length;o+=4)t[o/4]=e.charCodeAt(o)<<24|e.charCodeAt(o+1)<<16|e.charCodeAt(o+2)<<8|e.charCodeAt(o+3);return t})((e=>{const t=(448-e.length-1)%512,o=new Uint8Array(t/8+1).fill(0),r=8*e.length,n=new Uint8Array(8);for(let e=0;e<8;e++)n[e]=r>>>56-8*e&255;const i=new Uint8Array(e.length+1+o.length+n.length);for(let t=0;t<e.length;t++)i[t]=e[t];i[e.length]=128;for(let t=0;t<o.length;t++)i[e.length+1+t]=o[t];for(let t=0;t<n.length;t++)i[e.length+1+o.length+t]=n[t];return i})(e.split("").map((function(e){return e.charCodeAt(0)}))));for(let e=0;e<m.length;e+=16){const _=r;for(let t=0;t<16;t++)_[t]=m[e+t];for(let e=16;e<64;e++){const o=t(7,_[e-15])^t(18,_[e-15])^_[e-15]>>>3,r=t(17,_[e-2])^t(19,_[e-2])^_[e-2]>>>10;_[e]=_[e-16]+o+_[e-7]+r>>>0}let g=n,f=i,p=a,h=s,w=d,v=c,b=l,k=u;for(let e=0;e<64;e++){const r=u+(t(6,d)^t(11,d)^t(25,d))+(d&c^~d&l)+o[e]+_[e]>>>0;k=b,b=v,v=w,w=h+r>>>0,h=p,p=f,f=g,g=r+((t(2,n)^t(13,n)^t(22,n))+(n&i^n&a^i&a)>>>0)>>>0}n=n+g>>>0,i=i+f>>>0,a=a+p>>>0,s=s+h>>>0,d=d+w>>>0,c=c+v>>>0,l=l+b>>>0,u=u+k>>>0}return[n,i,a,s,d,c,l,u].map((e=>e.toString(16).padStart(8,"0"))).join("")}()})(e=e.toLowerCase().trim());return t.slice(0,8)+"-"+t.slice(8,12)+"-4"+t.slice(13,16)+"-a"+t.slice(17,20)+"-"+t.slice(20)},t.log=r,t.handleQueuedEvents=function(){window.$ECq&&window.$ECq.forEach((e=>{const t=e[0],o=e.slice(1);window.$EC.settings.debug&&r({message:`Queued event: ${t}`,type:"warn"}),window.$EC[t](...o)}))}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}var r={};(()=>{var e=r;e.EcBrowser=void 0;const t=o(433),n=o(514),i=o(588),a=o(935),s=o(991);e.EcBrowser=class EcBrowser{constructor(e){if(this.settings={},this.initialized=!1,this.load=(e={})=>{e.debug&&(0,a.log)({message:"Debugger Enabled, disable debug in production.",type:"warn"}),this.settings={debug:e.debug||!1,trackingProvider:e.trackingProvider||void 0,autoCookies:e.autoCookies||!0,autoForms:e.autoForms||!1};let o={};"segment"===e.trackingProvider?o=(0,n.EcSegment)(this.analyticsInstance,e):"heap"===e.trackingProvider&&(o=(0,t.EcHeap)(e)),Object.keys(o).forEach((e=>{this[e]=o[e].bind(o)}));const r=(0,i.EcCore)({settings:e,track:this.track,identify:this.identify,version:this.version});return Object.keys(r).forEach((e=>{this[e]=r[e]})),this},this.initialized)throw new Error("$EC has already been initialized.");this.analyticsInstance=e,this.initialized=!0,this.version=s.version}}})(),EcBrowser=r.EcBrowser})();