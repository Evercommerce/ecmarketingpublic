"use strict";
/*!
 * Name: EverCommerce Attribution Tracking
 * Author: EverCommerce
 * Author URI: https://www.evercommerce.com/
 * Version: 3.3
 *
 * Copyright EverCommerce
 * All Rights Reserved.
 *
 * NOTICE: Unauthorized copying of this file
 *         via any medium is strictly prohibited.
 *         Proprietary and confidential
 */var $EC=function(){var t,e,c,_,n,r=(t=location.search.slice(1).split("&"),e={},t.forEach(function(t){t=t.split("="),e[t[0]]=decodeURIComponent(t[1]||"")}),JSON.parse(JSON.stringify(e))),i=o();return u(),function(){var t={utm_campaign:r.utm_campaign?r.utm_campaign.substring(0,254):"",utm_source:r.utm_source?r.utm_source.substring(0,254):"",utm_medium:r.utm_medium?r.utm_medium.substring(0,254):"",utm_content:r.utm_content?r.utm_content.substring(0,254):"",utm_term:r.utm_term?r.utm_term.substring(0,254):"",utm_device:r.utm_device?r.utm_device.substring(0,254):"",referrer:document.referrer.split("?")[0].substring(0,254)||"",msid:r.msid?r.msid.substring(0,254):"",gclid:r.gclid?r.gclid.substring(0,254):"",lp:(document.location.hostname+document.location.pathname).substring(0,254)||""};r.utm_campaign&&null!==r.utm_campaign&&""!==r.utm_campaign&&s("__ecatlt",t);0===Object.keys(a("__ecatft")).length&&s("__ecatft",t)}(),"undefined"!=typeof MktoForms2&&(c=a("__ecatft"),_=a("__ecatlt"),n={ec_utm_campaign_first__c:c.utm_campaign||"NULL",ec_utm_source_first__c:c.utm_source||"NULL",ec_utm_medium_first__c:c.utm_medium||"NULL",ec_utm_content_first__c:c.utm_content||"NULL",ec_utm_term_first__c:c.utm_term||"NULL",ec_utm_device_first__c:c.utm_device||"NULL",ec_msid_first__c:c.msid||"NULL",gclid__c:c.gclid||"NULL",GCLID__c:c.gclid||"NULL",ec_landing_page_first__c:c.lp||"NULL",ec_referrer_first__c:c.referrer||"NULL",ec_utm_campaign_last__c:_.utm_campaign||"NULL",ec_utm_source_last__c:_.utm_source||"NULL",ec_utm_medium_last__c:_.utm_medium||"NULL",ec_utm_content_last__c:_.utm_content||"NULL",ec_utm_term_last__c:_.utm_term||"NULL",ec_utm_device_last__c:_.utm_device||"NULL",ec_msid_last__c:_.msid||"NULL",gclid_last__c:_.gclid||"NULL",GCLID_last__c:_.gclid||"NULL",ec_referrer_last__c:_.referrer||"NULL",ec_landing_page_last__c:_.lp||"NULL"},MktoForms2.whenReady(function(t){t.addHiddenFields(n),t.onSuccess(function(t,e){void 0!==window.dataLayer&&window.dataLayer.push({event:"MarketoFormSubmit"})})})),{setDomain:u,autofill:function(r){return r?setTimeout(function(){var _=a("__ecatft"),n=a("__ecatlt");Object.keys(r).forEach(function(t){var e=_[t],c=n[t];e&&document.querySelectorAll(r[t].first).forEach(function(t){t.value=e}),c&&document.querySelectorAll(r[t].last).forEach(function(t){t.value=c})})},5):console.error("Must use key:value pairs for form autofill."),this},getFirst:function(){return a("__ecatft")},getLast:function(){return a("__ecatlt")},debug:function(){var t=a("__ecatft"),e=a("__ecatlt");return console.group("First Touch (Standard)"),console.table(t),console.groupEnd(),console.group("Last Touch (Standard)"),console.table(e),console.groupEnd(),this}};function u(t){return i=t||o(),this}function o(){var t,e=window.location.href;if("localhost"!==(t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?window.location.hostname:-1<e.indexOf("://")?e.split("/")[2]:e.split("/")[0])&&"127.0.0.1"!==t){var c=(t=(t=t.split(":")[0]).split("?")[0]).split(".");t=c[c.length-2]+"."+c[c.length-1]}return t}function s(t,e){if(t)if(e){var c=e?JSON.stringify(e):"",_=new Date;_.setFullYear(_.getFullYear()+10),document.cookie=t+"="+c+"; path=/; domain="+i+"; expires="+_.toGMTString()+";"}else console.error("Must provide a value.");else console.error("Must provide a name.")}function a(t){if(t){for(var e=t+"=",c=document.cookie.split(";"),_=0;_<c.length;_++){for(var n=c[_];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(e))return JSON.parse(n.substring(e.length,n.length))}return{}}console.error("Must provide a name.")}}();