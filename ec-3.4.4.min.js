/**
 * Author: EverCommerce
 * Author URI: https://www.evercommerce.com/
 * Version: 3.4.4
 * Updated: 11/29/2023
 * 
 * Copyright EverCommerce
 * All Rights Reserved.
 * 
 * NOTICE: Unauthorized use or copying of this file
 *         via any medium is strictly prohibited.
 *         Proprietary and confidential
 */
(()=>{"use strict";var e={};function t(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function o(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?t(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,i,a,c=[],u=!0,l=!1;try{if(i=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;u=!1}else for(;!(u=(r=i.call(o)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,n=e}finally{try{if(!u&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(l)throw n}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function c(e,t,o){return(t=u(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function u(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}e.d=(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"getFirst",(function(){return t.readCookie("__ecatft")})),c(this,"getLast",(function(){return t.readCookie("__ecatlt")})),c(this,"setDomain",(function(e){t.domain=e||t.extractHostname()})),c(this,"autofill",(function(e){var o=t.readCookie("__ecatft"),r=t.readCookie("__ecatlt");if(!e)return console.error("[$EC Error] Must provide field map to autofill form fields."),!1;t.debug&&(console.group("[$EC Debug] Field Mapping"),console.table(e),console.groupEnd()),setTimeout((function(){Object.prototype.hasOwnProperty.call(e,"utm_campaign")?Object.keys(e).forEach((function(t){document.querySelectorAll(e[t].first).forEach((function(e){e.value=o[t]||"[blank]"})),document.querySelectorAll(e[t].last).forEach((function(e){e.value=r[t]||"[blank]"}))})):Object.prototype.hasOwnProperty.call(e,"first_touch")&&(Object.keys(e.first_touch).forEach((function(t){document.querySelectorAll(e.first_touch[t]).forEach((function(e){e.value=o[t]||"[blank]"}))})),Object.keys(e.last_touch).forEach((function(t){document.querySelectorAll(e.last_touch[t]).forEach((function(e){e.value=r[t]||"[blank]"}))})))}),50)})),c(this,"log",(function(){console.group("About $EC"),console.log("Version: ",t.version),console.log("Domain: ",t.domain),void 0!==window.heap?window.heap.identity?console.log("[$EC] Heap ID: ",window.heap.identity):console.log("[$EC] Heap ID: Not Set"):console.error("[$EC Error] Heap Not Loaded"),console.groupEnd();var e=t.readCookie("__ecatft"),o=t.readCookie("__ecatlt");console.group("First Touch"),console.table(e),console.groupEnd(),console.group("Last Touch"),console.table(o),console.groupEnd()})),c(this,"heap",{identify:function(e){if(e){var o=!1;if(void 0!==window.heap&&(o=!0),!o){if(t.debug)return console.error("[$EC Error] Heap API is not defined."),t.generateUUID(e);if(!t.debug)return}if(window.heap.identity&&t.debug&&console.log("[$EC Debug] Already Identified: ",window.heap.identity),!window.heap.identity){var r=t.generateUUID(e);window.heap.identify(r),t.debug&&console.log("[$EC Debug] Identified with: ",r)}return window.heap.identity}console.error("[$EC Error] Must provide an email address.")},autofill:function(e,o){for(var r=document.forms,n=function(){var n=r[i];return n.classList.contains("mktoForm")||n.classList.contains("ecmktoForm")?"continue":void n.addEventListener("submit",(function(r){r.preventDefault();var i=n.querySelector(e).value,a=n.querySelector(o);if(i){var c=t.heap.identify(i);void 0!==a&&(a.value=c)}n.submit()}))},i=0;i<r.length;i++)n()}}),c(this,"mkto",{blindForm:{load:function(e){if(!e)return console.error("[$EC Error] Blind form config object missing option(s)"),console.log("Provided Config:"),void console.log(e);var o=document.createElement("form");o.id="mktoForm_".concat(e.mktoFormId),t.debug||(o.style.display="none"),document.body.appendChild(o),t.debug&&console.warn("[$EC Warning] Debug Mode is enabled. Marketo Form is displayed. Disable Debug mode for production use.",o);var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="//".concat(e.mktoDomain,"/js/forms2/js/forms2.min.js"),document.body.appendChild(n),n.addEventListener("load",(function(){t.handleMktoForms(),window.MktoForms2.loadForm("//".concat(e.mktoDomain),e.munchkinId,e.mktoFormId),window.MktoForms2.whenRendered((function(o){var n=document.querySelector(e.formSelector);t.setFormType(o.getFormElem()[0],"blind"),t.setFormType(n,"blind"),o.getFormElem()[0].setAttribute("data-boundForm",e.formSelector),e.followupUrl&&(o.followupUrl=e.followupUrl,t.debug&&console.log("[$EC] Followup URL Set: ".concat(e.followupUrl))),e.bindFields?(null!=i(e.dataMap)?(t.debug&&console.log("[$EC] Binding fields...",e.dataMap),Object.entries(e.dataMap).forEach((function(e){var t=r(e,2),o=t[0],i=t[1],a=n.querySelector(o);a?a.addEventListener("change",(function(e){var t=a.value,o=document.querySelector('input[name="'.concat(i,'"]'));"checkbox"===a.type?o.checked=a.checked:o.value=t})):console.error("[$EC Error] Field with selector ".concat(o," does not exist."))}))):console.error("[$EC Error] Missing field mapping."),e.bindSubmitEvent&&n.addEventListener("submit",(function(e){o.submit()}))):e.submitData&&(null!=i(e.dataMap)?(t.debug&&console.log("[$EC] Populating with provided data...",e.dataMap),o.vals(e.dataMap)):console.error("[$EC Error] Missing field data."))})),e.submitOnLoad&&e.submitData&&(t.debug&&console.log("[$EC] Submitting Marketo form..."),window.MktoForms2.whenReady((function(e){e.submit()})))}))},submit:function(e){document.querySelector("#mktoForm_".concat(e.mktoFormId)).submit()}},kioskMode:function(){console.warn("[$EC] Kiosk Mode Enabled"),document.cookie="_mkto_trk=;path=/;domain=".concat(t.domain,";expires=0"),window.MktoForms2.whenRendered((function(e){t.setFormType(e.getFormElem()[0],"kiosk"),e.addHiddenFields({_mkt_trk:""}),void 0!==window.heap&&window.heap.track("Marketo Form Event",{Event:"Rendered","Form ID":"mktoForm_".concat(e.getId()),Submittable:e.submittable(),"Form Type":"kiosk"})}))}}),c(this,"handleMktoFormHiddenFields",this.handleMktoForms),this.version="3.4.4",this.debug||(this.debug=!1),this.setDomain(),this.handleAttributionCookie(),window.addEventListener("load",(function(){void 0!==window.MktoForms2&&t.handleMktoForms(),void 0!==window.HubSpotForms&&t.handleHubspotForms()}))}var t,n,u;return t=e,(n=[{key:"extractHostname",value:function(){var e,t=window.location.href;if("localhost"!==(e="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?window.location.hostname:t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0])&&"127.0.0.1"!==e){var o=(e=(e=e.split(":")[0]).split("?")[0]).split(".");e=o[o.length-2]+"."+o[o.length-1]}return e}},{key:"handleAttributionCookie",value:function(){var e=this.readCookie("__ecatft"),t=this.readCookie("__ecatlt"),o=new URLSearchParams(document.location.search),r={utm_campaign:o.get("utm_campaign")?o.get("utm_campaign").substring(0,254):"",utm_source:o.get("utm_source")?o.get("utm_source").substring(0,254):"",utm_medium:o.get("utm_medium")?o.get("utm_medium").substring(0,254):"",utm_content:o.get("utm_content")?o.get("utm_content").substring(0,254):"",utm_term:o.get("utm_term")?o.get("utm_term").substring(0,254):"",utm_device:o.get("utm_device")?o.get("utm_device").substring(0,254):"",referrer:document.referrer.split("?")[0].substring(0,254)||"",gclid:o.get("gclid")?o.get("gclid").substring(0,254):"",lp:(document.location.hostname+document.location.pathname).substring(0,254)||""};0===Object.keys(e).length&&this.createCookie("__ecatft",r),0===Object.keys(t).length&&this.createCookie("__ecatlt",r)}},{key:"getFormType",value:function(e){return e.getAttribute("data-formType")}},{key:"setFormType",value:function(e,t){e.setAttribute("data-formType",t)}},{key:"handleMktoForms",value:function(){var e=this;window.MktoForms2.whenReady((function(t){var r=e.readCookie("__ecatft"),n=e.readCookie("__ecatlt"),i={ec_utm_campaign_first__c:r.utm_campaign||"NULL",ec_utm_source_first__c:r.utm_source||"NULL",ec_utm_medium_first__c:r.utm_medium||"NULL",ec_utm_content_first__c:r.utm_content||"NULL",ec_utm_term_first__c:r.utm_term||"NULL",ec_utm_device_first__c:r.utm_device||"NULL",gclid__c:r.gclid||"NULL",GCLID__c:r.gclid||"NULL",ec_landing_page_first__c:r.lp||"NULL",ec_referrer_first__c:r.referrer||"NULL",ec_utm_campaign_last__c:n.utm_campaign||"NULL",ec_utm_source_last__c:n.utm_source||"NULL",ec_utm_medium_last__c:n.utm_medium||"NULL",ec_utm_content_last__c:n.utm_content||"NULL",ec_utm_term_last__c:n.utm_term||"NULL",ec_utm_device_last__c:n.utm_device||"NULL",gclid_last__c:n.gclid||"NULL",GCLID_last__c:n.gclid||"NULL",ec_referrer_last__c:n.referrer||"NULL",ec_landing_page_last__c:n.lp||"NULL"},a={"Form ID":"mktoForm_".concat(t.getId())};e.getFormType(t.getFormElem()[0])&&(a["Form Type"]=e.getFormType(t.getFormElem()[0])),t.getFormElem()[0].getAttribute("data-boundForm")&&(a["Bound Form Selector"]=t.getFormElem()[0].getAttribute("data-boundForm")),"kiosk"!==e.getFormType(t.getFormElem()[0])&&t.addHiddenFields(i),t.onSubmit((function(){if("kiosk"===e.getFormType(t.getFormElem()[0]))t.vals({_mkt_trk:""});else if(void 0!==window.heap){if(t.validate()){var r=t.vals().Email,n=e.heap.identify(r);t.addHiddenFields({ec_heap_id__c:n})}var i=o({Event:"Before Submit",Submittable:t.submittable()},a);window.heap.track("Marketo Form Event",i)}e.debug&&(console.group("[$EC Debug] Form Vals"),console.table(t.vals()),console.groupEnd())})),t.onValidate((function(e){if(void 0!==window.heap){var t=o({Event:"Validate",Valid:e},a);window.heap.track("Marketo Form Event",t)}})),t.onSuccess((function(){if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"MarketoFormSubmit",formId:"mktoForm_".concat(t.getId()),pageUrl:"".concat(window.location.origin).concat(window.location.pathname)}),void 0!==window.heap){var r=o({Event:"Submitted"},a);window.heap.track("Marketo Form Event",r)}if("blind"===e.getFormType(t.getFormElem()[0]))return t.followupUrl&&document.location.replace(t.followupUrl),!1}))}))}},{key:"handleHubspotForms",value:function(){this.autofill({first_touch:{utm_campaign:"input[name=ec_utm_campaign_first__c]",utm_source:"input[name=ec_utm_source_first__c]",utm_medium:"input[name=ec_utm_medium_first__c]",utm_content:"input[name=ec_utm_content_first__c]",utm_term:"input[name=ec_utm_term_first__c]",utm_device:"input[name=ec_utm_device_first__c]",lp:"input[name=ec_landing_page_first__c]",referrer:"input[name=ec_referrer_first__c]",gclid:"input[name=gclid__c]"},last_touch:{utm_campaign:"input[name=ec_utm_campaign_last__c]",utm_source:"input[name=ec_utm_source_last__c]",utm_medium:"input[name=ec_utm_medium_last__c]",utm_content:"input[name=ec_utm_content_last__c]",utm_term:"input[name=ec_utm_term_last__c]",utm_device:"input[name=ec_utm_device_last__c]",lp:"input[name=ec_landing_page_last__c]",referrer:"input[name=ec_referrer_last__c]",gclid:"input[name=ec_gclid_last__c]"}}),window.addEventListener("message",(function(e){"hsFormCallback"===e.data.type&&"onFormSubmitted"===e.data.eventName&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"HubSpotFormSubmit",formId:e.data.id,pageUrl:"".concat(window.location.origin).concat(window.location.pathname)}),void 0!==window.heap&&window.heap.track("HubSpot Form Event",{"Form ID":e.data.id,Event:"Submitted"}))}))}},{key:"createCookie",value:function(e,t){if(e)if(t){var o=t?JSON.stringify(t):"",r="";if("__ecatft"==e){var n=new Date;n.setFullYear(n.getFullYear()+10),r=" expires="+n.toUTCString()+";"}document.cookie=e+"="+o+"; path=/; domain="+this.domain+";"+r}else console.error("[$EC Error] Must provide a value.");else console.error("[$EC Error] Must provide a name.")}},{key:"readCookie",value:function(e){if(e){for(var t=e+"=",o=document.cookie.split(";"),r=0;r<o.length;r++){for(var n=o[r];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return JSON.parse(n.substring(t.length,n.length))}return{}}console.error("[$EC Error] Must provide a name.")}},{key:"generateUUID",value:function(e){var t=function(e){function t(e,t){return(t>>>e|t<<32-e)>>>0}return function(){for(var o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=new Uint32Array(64),n=1779033703,i=3144134277,a=1013904242,c=2773480762,u=1359893119,l=2600822924,m=528734635,d=1541459225,s=function(e){for(var t=(448-e.length-1)%512,o=new Uint8Array(t/8+1).fill(0),r=8*e.length,n=new Uint8Array(8),i=0;i<8;i++)n[i]=r>>>56-8*i&255;for(var a=new Uint8Array(e.length+1+o.length+n.length),c=0;c<e.length;c++)a[c]=e[c];a[e.length]=128;for(var u=0;u<o.length;u++)a[e.length+1+u]=o[u];for(var l=0;l<n.length;l++)a[e.length+1+o.length+l]=n[l];return a}(e.split("").map((function(e){return e.charCodeAt(0)}))),_=function(e){if("string"!=typeof e&&(e=e.toString()),!e.length)return new Uint32Array(0);for(var t=new Uint32Array(e.length/4),o=0;o<e.length;o+=4)t[o/4]=e.charCodeAt(o)<<24|e.charCodeAt(o+1)<<16|e.charCodeAt(o+2)<<8|e.charCodeAt(o+3);return t}(s),f=0;f<_.length;f+=16){for(var p=r,g=0;g<16;g++)p[g]=_[f+g];for(var b=16;b<64;b++){var h=t(7,p[b-15])^t(18,p[b-15])^p[b-15]>>>3,v=t(17,p[b-2])^t(19,p[b-2])^p[b-2]>>>10;p[b]=p[b-16]+h+p[b-7]+v>>>0}for(var w=n,y=i,k=a,E=c,F=u,L=l,C=m,S=d,U=0;U<64;U++){var O=d+(t(6,u)^t(11,u)^t(25,u))+(u&l^~u&m)+o[U]+p[U]>>>0;S=C,C=L,L=F,F=E+O>>>0,E=k,k=y,y=w,w=O+((t(2,n)^t(13,n)^t(22,n))+(n&i^n&a^i&a)>>>0)>>>0}n=n+w>>>0,i=i+y>>>0,a=a+k>>>0,c=c+E>>>0,u=u+F>>>0,l=l+L>>>0,m=m+C>>>0,d=d+S>>>0}return[n,i,a,c,u,l,m,d].map((function(e){return e.toString(16).padStart(8,"0")})).join("")}()}(e=e.toLowerCase().trim());return t.slice(0,8)+"-"+t.slice(8,12)+"-4"+t.slice(13,16)+"-a"+t.slice(17,20)+"-"+t.slice(20)}}])&&a(t.prototype,n),u&&a(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.$EC=new l})();
