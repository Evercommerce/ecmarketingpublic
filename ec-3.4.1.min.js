/**
 * Author: EverCommerce
 * Author URI: https://www.evercommerce.com/
 * Version: 3.4.1
 * Updated: 05/31/2023
 * 
 * Copyright EverCommerce
 * All Rights Reserved.
 * 
 * NOTICE: Unauthorized use or copying of this file
 *         via any medium is strictly prohibited.
 *         Proprietary and confidential
 */
(()=>{"use strict";var e={};function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,i,a,c=[],u=!0,l=!1;try{if(i=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;u=!1}else for(;!(u=(n=i.call(o)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,r=e}finally{try{if(!u&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(l)throw r}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function i(e,t,o){return(t=a(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}e.d=(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var c=function(){function e(){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"getFirst",(function(){return o.readCookie("__ecatft")})),i(this,"getLast",(function(){return o.readCookie("__ecatlt")})),i(this,"setDomain",(function(e){o.domain=e||o.extractHostname()})),i(this,"autofill",(function(e){var t=o.readCookie("__ecatft"),n=o.readCookie("__ecatlt");if(!e)return console.error("[$EC Error] Must provide field map to autofill form fields."),!1;o.debug&&(console.group("[$EC Debug] Field Mapping"),console.table(e),console.groupEnd()),setTimeout((function(){Object.prototype.hasOwnProperty.call(e,"utm_campaign")?Object.keys(e).forEach((function(o){document.querySelectorAll(e[o].first).forEach((function(e){e.value=t[o]||"[blank]"})),document.querySelectorAll(e[o].last).forEach((function(e){e.value=n[o]||"[blank]"}))})):Object.prototype.hasOwnProperty.call(e,"first_touch")&&(Object.keys(e.first_touch).forEach((function(o){document.querySelectorAll(e.first_touch[o]).forEach((function(e){e.value=t[o]||"[blank]"}))})),Object.keys(e.last_touch).forEach((function(t){document.querySelectorAll(e.last_touch[t]).forEach((function(e){e.value=n[t]||"[blank]"}))})))}),50)})),i(this,"log",(function(){console.group("About $EC"),console.log("Version: ",o.version),console.log("Domain: ",o.domain),void 0!==window.heap?window.heap.identity?console.log("[$EC] Heap ID: ",window.heap.identity):console.log("[$EC] Heap ID: Not Set"):console.error("[$EC Error] Heap Not Loaded"),console.groupEnd();var e=o.readCookie("__ecatft"),t=o.readCookie("__ecatlt");console.group("First Touch"),console.table(e),console.groupEnd(),console.group("Last Touch"),console.table(t),console.groupEnd()})),i(this,"heap",{identify:function(e){if(e){var t=!1;if(void 0!==window.heap&&(t=!0),!t){if(o.debug)return console.error("[$EC Error] Heap API is not defined."),o.generateUUID(e);if(!o.debug)return}if(window.heap.identity&&o.debug&&console.log("[$EC Debug] Already Identified: ",window.heap.identity),!window.heap.identity){var n=o.generateUUID(e);window.heap.identify(n),o.debug&&console.log("[$EC Debug] Identified with: ",n)}return window.heap.identity}console.error("[$EC Error] Must provide an email address.")},autofill:function(e,t){for(var n=document.forms,r=function(){var r=n[i];return r.classList.contains("mktoForm")||r.classList.contains("ecmktoForm")?"continue":void r.addEventListener("submit",(function(n){n.preventDefault();var i=r.querySelector(e).value,a=r.querySelector(t);if(i){var c=o.heap.identify(i);void 0!==a&&(a.value=c)}r.submit()}))},i=0;i<n.length;i++)r()}}),i(this,"mkto",{blindForm:{load:function(e){if(!e)return console.error("[$EC Error] Blind form config object missing option(s)"),console.log("Provided Config:"),void console.log(e);var r=document.createElement("form");r.id="mktoForm_".concat(e.mktoFormId),o.debug||(r.style.display="none"),document.body.appendChild(r),o.debug&&console.warn("[$EC Warning] Debug Mode is enabled. Marketo Form is displayed. Disable Debug mode for production use.",r);var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src="//".concat(e.mktoDomain,"/js/forms2/js/forms2.min.js"),document.body.appendChild(i),i.addEventListener("load",(function(){o.handleMktoForms(e),window.MktoForms2.loadForm("//".concat(e.mktoDomain),e.munchkinId,e.mktoFormId),window.MktoForms2.whenRendered((function(r){var i=document.querySelector(e.formSelector);o.setFormType(r.getFormElem()[0],"mkto-blind"),o.setFormType(i,"mkto-blind"),e.autoSubmit||null==n(e.fieldMapping)?e.autoSubmit&&null!=n(e.fieldData)&&(r.vals(e.fieldData),r.submit()):(Object.entries(e.fieldMapping).forEach((function(e){var o=t(e,2),n=o[0],r=o[1],a=i.querySelector(n);a?a.addEventListener("change",(function(e){var t=a.value,o=document.querySelector('input[name="'.concat(r,'"]'));"checkbox"===a.type?o.checked=a.checked:o.value=t})):console.error("[$EC Error] Field with selector ".concat(n," does not exist."))})),e.bindSubmitEvent&&i.addEventListener("submit",(function(e){r.submit()})))}))}))},submit:function(e){document.querySelector("#mktoForm_".concat(e.mktoFormId)).submit()}},kioskMode:function(){console.warn("[$EC] Kiosk Mode Enabled"),document.cookie="_mkto_trk=;path=/;domain=".concat(o.domain,";expires=0"),window.MktoForms2.whenRendered((function(e){e.setFormType(e.getFormElem()[0],"kiosk"),e.addHiddenFields({_mkt_trk:""})}))}}),i(this,"handleMktoFormHiddenFields",this.handleMktoForms),this.version="3.4.1",this.debug||(this.debug=!1),this.setDomain(),this.handleAttributionCookie(),void 0!==window.MktoForms2&&this.handleMktoForms(),void 0!==window.HubSpotForms&&this.handleHubspotForms()}var o,a,c;return o=e,(a=[{key:"extractHostname",value:function(){var e,t=window.location.href;if("localhost"!==(e="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?window.location.hostname:t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0])&&"127.0.0.1"!==e){var o=(e=(e=e.split(":")[0]).split("?")[0]).split(".");e=o[o.length-2]+"."+o[o.length-1]}return e}},{key:"handleAttributionCookie",value:function(){var e=this.readCookie("__ecatft"),t=this.readCookie("__ecatlt"),o=new URLSearchParams(document.location.search),n={utm_campaign:o.get("utm_campaign")?o.get("utm_campaign").substring(0,254):"",utm_source:o.get("utm_source")?o.get("utm_source").substring(0,254):"",utm_medium:o.get("utm_medium")?o.get("utm_medium").substring(0,254):"",utm_content:o.get("utm_content")?o.get("utm_content").substring(0,254):"",utm_term:o.get("utm_term")?o.get("utm_term").substring(0,254):"",utm_device:o.get("utm_device")?o.get("utm_device").substring(0,254):"",referrer:document.referrer.split("?")[0].substring(0,254)||"",gclid:o.get("gclid")?o.get("gclid").substring(0,254):"",lp:(document.location.hostname+document.location.pathname).substring(0,254)||""};0===Object.keys(e).length&&this.createCookie("__ecatft",n),0===Object.keys(t).length&&this.createCookie("__ecatlt",n)}},{key:"getFormType",value:function(e){return e.getAttribute("data-formType")}},{key:"setFormType",value:function(e,t){e.setAttribute("data-formType",t)}},{key:"handleMktoForms",value:function(e){var t=this;window.MktoForms2.whenReady((function(o){var n=t.readCookie("__ecatft"),r=t.readCookie("__ecatlt"),i={ec_utm_campaign_first__c:n.utm_campaign||"NULL",ec_utm_source_first__c:n.utm_source||"NULL",ec_utm_medium_first__c:n.utm_medium||"NULL",ec_utm_content_first__c:n.utm_content||"NULL",ec_utm_term_first__c:n.utm_term||"NULL",ec_utm_device_first__c:n.utm_device||"NULL",gclid__c:n.gclid||"NULL",GCLID__c:n.gclid||"NULL",ec_landing_page_first__c:n.lp||"NULL",ec_referrer_first__c:n.referrer||"NULL",ec_utm_campaign_last__c:r.utm_campaign||"NULL",ec_utm_source_last__c:r.utm_source||"NULL",ec_utm_medium_last__c:r.utm_medium||"NULL",ec_utm_content_last__c:r.utm_content||"NULL",ec_utm_term_last__c:r.utm_term||"NULL",ec_utm_device_last__c:r.utm_device||"NULL",gclid_last__c:r.gclid||"NULL",GCLID_last__c:r.gclid||"NULL",ec_referrer_last__c:r.referrer||"NULL",ec_landing_page_last__c:r.lp||"NULL"};"kiosk"!==t.getFormType(o.getFormElem()[0])&&o.addHiddenFields(i),o.onSubmit((function(){if("kiosk"===t.getFormType(o.getFormElem()[0]))o.vals({_mkt_trk:""});else if(void 0!==window.heap&&o.validate()){var e=o.vals().Email,n=t.heap.identify(e);o.addHiddenFields({ec_heap_id__c:n})}t.debug&&(console.group("[$EC Debug] Form Vals"),console.table(o.vals()),console.groupEnd())})),o.onSuccess((function(){if(void 0!==window.dataLayer&&window.dataLayer.push({event:"MarketoFormSubmit"}),window.heap.track("Marketo Form Submit",{"Form ID":"mktoForm_".concat(o.getId())}),"blind"===t.getFormType(o.getFormElem()[0]))return e.followupUrl&&document.location.replace(e.followupUrl),!1}))}))}},{key:"handleHubspotForms",value:function(){this.autofill({first_touch:{utm_campaign:"input[name=ec_utm_campaign_first__c]",utm_source:"input[name=ec_utm_source_first__c]",utm_medium:"input[name=ec_utm_medium_first__c]",utm_content:"input[name=ec_utm_content_first__c]",utm_term:"input[name=ec_utm_term_first__c]",utm_device:"input[name=ec_utm_device_first__c]",lp:"input[name=ec_landing_page_first__c]",referrer:"input[name=ec_referrer_first__c]",gclid:"input[name=gclid__c]"},last_touch:{utm_campaign:"input[name=ec_utm_campaign_last__c]",utm_source:"input[name=ec_utm_source_last__c]",utm_medium:"input[name=ec_utm_medium_last__c]",utm_content:"input[name=ec_utm_content_last__c]",utm_term:"input[name=ec_utm_term_last__c]",utm_device:"input[name=ec_utm_device_last__c]",lp:"input[name=ec_landing_page_last__c]",referrer:"input[name=ec_referrer_last__c]",gclid:"input[name=ec_gclid_last__c]"}})}},{key:"createCookie",value:function(e,t){if(e)if(t){var o=t?JSON.stringify(t):"",n="";if("__ecatft"==e){var r=new Date;r.setFullYear(r.getFullYear()+10),n=" expires="+r.toUTCString()+";"}document.cookie=e+"="+o+"; path=/; domain="+this.domain+";"+n}else console.error("[$EC Error] Must provide a value.");else console.error("[$EC Error] Must provide a name.")}},{key:"readCookie",value:function(e){if(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var r=o[n];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return JSON.parse(r.substring(t.length,r.length))}return{}}console.error("[$EC Error] Must provide a name.")}},{key:"generateUUID",value:function(e){var t=function(e){function t(e,t){return(t>>>e|t<<32-e)>>>0}return function(){for(var o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),n=new Uint32Array(64),r=1779033703,i=3144134277,a=1013904242,c=2773480762,u=1359893119,l=2600822924,s=528734635,m=1541459225,d=function(e){for(var t=(448-e.length-1)%512,o=new Uint8Array(t/8+1).fill(0),n=8*e.length,r=new Uint8Array(8),i=0;i<8;i++)r[i]=n>>>56-8*i&255;for(var a=new Uint8Array(e.length+1+o.length+r.length),c=0;c<e.length;c++)a[c]=e[c];a[e.length]=128;for(var u=0;u<o.length;u++)a[e.length+1+u]=o[u];for(var l=0;l<r.length;l++)a[e.length+1+o.length+l]=r[l];return a}(e.split("").map((function(e){return e.charCodeAt(0)}))),_=function(e){if("string"!=typeof e&&(e=e.toString()),!e.length)return new Uint32Array(0);for(var t=new Uint32Array(e.length/4),o=0;o<e.length;o+=4)t[o/4]=e.charCodeAt(o)<<24|e.charCodeAt(o+1)<<16|e.charCodeAt(o+2)<<8|e.charCodeAt(o+3);return t}(d),f=0;f<_.length;f+=16){for(var p=n,g=0;g<16;g++)p[g]=_[f+g];for(var h=16;h<64;h++){var v=t(7,p[h-15])^t(18,p[h-15])^p[h-15]>>>3,b=t(17,p[h-2])^t(19,p[h-2])^p[h-2]>>>10;p[h]=p[h-16]+v+p[h-7]+b>>>0}for(var y=r,k=i,w=a,E=c,L=u,F=l,C=s,S=m,U=0;U<64;U++){var A=m+(t(6,u)^t(11,u)^t(25,u))+(u&l^~u&s)+o[U]+p[U]>>>0;S=C,C=F,F=L,L=E+A>>>0,E=w,w=k,k=y,y=A+((t(2,r)^t(13,r)^t(22,r))+(r&i^r&a^i&a)>>>0)>>>0}r=r+y>>>0,i=i+k>>>0,a=a+w>>>0,c=c+E>>>0,u=u+L>>>0,l=l+F>>>0,s=s+C>>>0,m=m+S>>>0}return[r,i,a,c,u,l,s,m].map((function(e){return e.toString(16).padStart(8,"0")})).join("")}()}(e=e.toLowerCase().trim());return t.slice(0,8)+"-"+t.slice(8,12)+"-4"+t.slice(13,16)+"-a"+t.slice(17,20)+"-"+t.slice(20)}}])&&r(o.prototype,a),c&&r(o,c),Object.defineProperty(o,"prototype",{writable:!1}),e}();window.$EC=new c})();
